serenity {
    take.screenshots = FOR_FAILURES
    #take.screenshots = AFTER_EACH_STEP

    parallel.tests = 4
    fork.count = 2
    batch.size = 2
}

webdriver {
  driver = chrome
  autodownload = false
  use.unique.browser = false
  
    capabilities {
    browserName = "chrome"
    acceptInsecureCerts = true
    "goog:chromeOptions" {
      args = ["--headless", "remote-debugging-port=0", "remote-allow-origins=*","test-type", "no-sandbox",
              "ignore-certificate-errors", "--window-size=1920,1080", "incognito", "disable-infobars",
              "disable-gpu", "disable-default-apps", "disable-popup-blocking", "disable-dev-shm-usage", 
              "disable-extensions", "disable-web-security", "disable-translate", "disable-logging"]
    }
  }
}

drivers {
  windows {
    webdriver.chrome.driver = "src/test/resources/webdriver/windows/chromedriver.exe"
  }
  mac {
    webdriver.chrome.driver = "src/test/resources/webdriver/mac/chromedriver"
  }
  linux {
    webdriver.chrome.driver = "src/test/resources/webdriver/linux/chromedriver"
  }
}

environments {
    default = "dev"
    dev {
        environment.name = "Development"
        app.url = "http://opencart.abstracta.us/"
        #webdriver.base.url = "http://opencart.abstracta.us/"
        #database.url = "jdbc:h2:mem:devdb"
    }

    #test {
        #    environment.name = "Quality"
        #    app.url = "https://test.opencart.abstracta.us/"
        #    webdriver.base.url = "https://test.opencart.abstracta.us/"
        #}

        #prod {
        #    environment.name = "Production"
        #    app.url = "https://www.opencart.abstracta.us/"
        #    webdriver.base.url = "https://www.opencart.abstracta.us/"
        #}
}

# Configuraciones específicas de Cucumber Parallel
cucumber.execution.parallel.enabled=true
cucumber.execution.parallel.config.strategy=fixed
cucumber.execution.parallel.config.fixed.parallelism=4

# Configuraciones básicas de Cucumber
cucumber.glue=com.serenitybdd.yourstoreapp.stepdefinitions
cucumber.features=src/test/resources/features

# Logging adicional para debug
logging.level.net.serenitybdd = INFO
logging.level.com.serenitybbd.yourstoreapp = INFO
